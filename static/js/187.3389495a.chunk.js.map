{"version":3,"file":"static/js/187.3389495a.chunk.js","mappings":"0KACA,GAAgB,UAAY,+BAA+B,MAAQ,2BAA2B,uBAAyB,4CAA4C,MAAQ,2BAA2B,YAAc,iCAAiC,MAAQ,2BAA2B,iBAAmB,sCAAsC,aAAe,mC,oEC2EhW,EAnE8B,WAC5B,IAAAA,GAA4BC,EAAAA,EAAAA,UAAc,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAClBI,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAU,OAAKA,EAAMC,IAAI,IAC7CC,GAAOH,EAAAA,EAAAA,KAAY,SAACC,GAAU,OAAKA,EAAME,KAAKA,IAAI,IAClDC,GAAyBC,EAAAA,EAAAA,MAAYC,WAE3CC,EAAAA,EAAAA,YAAU,WACRV,GAASW,EAAAA,EAAAA,KACX,GAAG,CAACX,KAEJU,EAAAA,EAAAA,YAAU,WACR,GAAIR,EAAKU,QAAS,CAChB,IAAMP,EAAOH,EAAKU,QAAQC,MAAK,SAACC,GAC9B,OAAOA,EAAGP,KAAOQ,OAAOR,EAC1B,IACAR,EAAUM,EACZ,CACF,GAAG,CAACH,EAAKU,QAASL,IAoBlB,OACES,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGpB,GACCqB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,UAAiBH,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,eAAsBH,UACpCF,EAAAA,EAAAA,KAAA,OACEI,UAAWC,EAAAA,MACXC,IAAG,kCAAAC,OAAoCzB,EAAO0B,aAC9CC,IAAG,GAAAF,OAAKzB,EAAOS,SAGnBY,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,uBAA8BH,SAAA,EAC5CF,EAAAA,EAAAA,KAAA,MAAII,UAAWC,EAAAA,MAAaH,SAAEpB,EAAO4B,SACrCV,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAAA,YAAmBH,SAAEpB,EAAO6B,YAC1CR,EAAAA,EAAAA,MAAA,KAAGC,UAAWC,EAAAA,MAAaH,SAAA,CAAC,YAAUpB,EAAO8B,eAC7CZ,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CAACC,QAAQ,UAAUC,KAAK,SAASC,QAjC9B,WACd1B,GACFN,EACEiC,EAAAA,EAAAA,WAAyB,CACvB1B,GAAIT,EAAOS,GACX2B,MAAOpC,EAAO0B,YACdE,MAAO5B,EAAO4B,MACdC,SAAU7B,EAAO6B,SACjBQ,MAAOrC,EAAO8B,cAGlBQ,EAAAA,OAAAA,QAAe,+BAEfA,EAAAA,OAAAA,QACE,gFAEN,EAiBuElB,SAAC,yBAMlEF,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,iBAAwBH,UACtCF,EAAAA,EAAAA,KAAA,MAAII,UAAWC,EAAAA,aAAoBH,SAAC,mCAK9C,C","sources":["webpack://market/./src/components/productPage/ProductPage.module.css?4b99","components/productPage/ProductPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ProductPage_container__wOqCm\",\"image\":\"ProductPage_image__oe6KB\",\"description__container\":\"ProductPage_description__container__QmmDV\",\"title\":\"ProductPage_title__D23x9\",\"description\":\"ProductPage_description__NVhFa\",\"price\":\"ProductPage_price__SfeXc\",\"empty__container\":\"ProductPage_empty__container__cyFGx\",\"empty__title\":\"ProductPage_empty__title__gPHZE\"};","import React, { useState, useEffect } from \"react\";\nimport styles from \"./ProductPage.module.css\";\nimport { Button } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { getData } from \"../../redux/operation/data-operation\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { basketActions } from \"../../redux/slices/basketSlice\";\nimport { Notify } from \"notiflix/build/notiflix-notify-aio\";\n\nconst ProductPage: React.FC = () => {\n  const [detail, setDetail] = useState<any>(\"\");\n  const dispatch = useDispatch();\n  const page = useSelector((state: any) => state.data);\n  const user = useSelector((state: any) => state.user.user);\n  const id: String | undefined = useParams().productId;\n\n  useEffect(() => {\n    dispatch(getData());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (page.results) {\n      const data = page.results.find((el: any) => {\n        return el.id === Number(id);\n      });\n      setDetail(data);\n    }\n  }, [page.results, id]);\n\n  const addToBasket = () => {\n    if (user) {\n      dispatch(\n        basketActions.addProduct({\n          id: detail.id,\n          image: detail.poster_path,\n          title: detail.title,\n          overview: detail.overview,\n          price: detail.vote_count,\n        })\n      );\n      Notify.success(\"Product added successfully\");\n    } else\n      Notify.failure(\n        \"You must be logged in to your profile to add a product to your shopping cart.\"\n      );\n  };\n\n  return (\n    <>\n      {detail ? (\n        <div className={styles.container}>\n          <div className={styles.img__container}>\n            <img\n              className={styles.image}\n              src={`https://image.tmdb.org/t/p/w500${detail.poster_path}`}\n              alt={`${detail.id}`}\n            />\n          </div>\n          <div className={styles.description__container}>\n            <h2 className={styles.title}>{detail.title}</h2>\n            <p className={styles.description}>{detail.overview}</p>\n            <p className={styles.price}>Price: $ {detail.vote_count}</p>\n            <Button variant=\"success\" type=\"button\" onClick={addToBasket}>\n              Add to basket\n            </Button>\n          </div>\n        </div>\n      ) : (\n        <div className={styles.empty__container}>\n          <h2 className={styles.empty__title}>This product does not exist</h2>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProductPage;\n"],"names":["_useState","useState","_useState2","_slicedToArray","detail","setDetail","dispatch","useDispatch","page","useSelector","state","data","user","id","useParams","productId","useEffect","getData","results","find","el","Number","_jsx","_Fragment","children","_jsxs","className","styles","src","concat","poster_path","alt","title","overview","vote_count","Button","variant","type","onClick","basketActions","image","price","Notify"],"sourceRoot":""}