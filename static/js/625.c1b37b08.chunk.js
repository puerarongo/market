"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[625],{6625:function(t,e,a){a.r(e),a.d(e,{default:function(){return w}});a(2791);var s="Basket_container__zEmeY",n="Basket_basket__title__W29Wk",i="Basket_basket__list__wyfE9",l="Basket_item__ZMlS5",c="Basket_buy__cintainer__0kMNL",r="Basket_total__quantity__7n24k",o="Basket_total__amount__g2E1x",u="Basket_button__XAXqn",_="Basket_basket__empty__KYZ5S",m="Basket_empty__title__3vKZH",d="BasketItem_container__YnOFc",k="BasketItem_img__R3AU8",h="BasketItem_title__7HbOw",y="BasketItem_into__IldLL",f="BasketItem_quantity__UIf6R",p="BasketItem_price__3mq09",x="BasketItem_button__ft4rR",B=a(6157),N=a(9434),j=a(538),b=a(184),v=function(t){var e=t.id,a=t.image,s=t.title,n=t.quantity,i=t.price,l=(0,N.I0)();return(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)("img",{className:k,src:"".concat(a),alt:"".concat(e)}),(0,b.jsx)("h3",{className:h,children:s}),(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)("p",{className:f,children:"".concat(n," pcs")}),(0,b.jsx)("p",{className:p,children:"$ ".concat(i)}),(0,b.jsx)(B.Z,{variant:"danger",className:x,type:"button",onClick:function(){l(j.I.deleteProduct({id:e}))},children:"Delete"})]})]})},I=a(5115),P=a(7799),g=a(480),q=a(1413),A=a(3433),Z=a(7218),Q=function(t){var e=Z.h.getState().personal,a=(0,A.Z)(e.allProducts);return t.forEach((function(t){var s=e.allProducts.findIndex((function(e){return t.id===e.id}));if(s>=0){var n=e.allProducts[s];a[s]=(0,q.Z)((0,q.Z)({},n),{},{quantity:n.quantity+t.quantity,totalPrice:n.totalPrice+t.totalPrice})}else a.push({id:t.id,image:t.image,title:t.title,description:t.description||"someText",quantity:t.quantity,totalPrice:t.totalPrice})})),a},Y=a(1686);Y.Notify.init({position:"right-bottom",timeout:1500});var w=function(){var t=(0,N.I0)(),e=(0,N.v9)((function(t){return t.basket})),a=(0,N.v9)((function(t){return t.user}));return(0,b.jsx)("div",{className:s,children:(0,b.jsx)("ul",{className:i,children:e.basketItems.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("li",{className:n,children:"Your shopping basket"}),e.basketItems.map((function(t){var e=t.id,a=t.image,s=t.title,n=t.quantity,i=t.totalPrice;return(0,b.jsx)("li",{className:l,children:(0,b.jsx)(v,{id:e,image:a,title:s,quantity:n,price:i})},e)})),(0,b.jsxs)("li",{className:c,children:[(0,b.jsx)("h3",{className:r,children:"Total Quantity of Products: ".concat(e.totalQuantity," pcs")}),(0,b.jsx)("h3",{className:o,children:"Total Amount: $ ".concat(e.totalAmount)}),(0,b.jsx)(B.Z,{type:"button",className:u,onClick:function(){try{var s=e.basketItems,n=e.totalAmount,i=e.totalQuantity,l={allProducts:Q(s),allAmount:n,allQuantity:i};t(j.I.allDelete()),t(I.B.updateBuy(l));var c=l.allProducts,r=l.allAmount,o=l.allQuantity;console.log("allProducts",c),(0,P.r7)((0,P.JU)(g.db,"users",a.user),{allProducts:c,allAmount:(0,P.nP)(r),allQuantity:(0,P.nP)(o)}),Y.Notify.info("You had made a purchase!")}catch(u){console.log(u)}},children:"Buy"})]})]}):(0,b.jsx)("li",{className:_,children:(0,b.jsx)("h2",{className:m,children:"Basket is currently empty!"})})})})}}}]);
//# sourceMappingURL=625.c1b37b08.chunk.js.map